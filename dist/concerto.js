(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t);var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,React.Component);var t,n,r,i=a(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).state={searchInputValue:""},t.handleSearchInputChange=t.handleSearchInputChange.bind(u(t)),t.handleSearchSubmit=t.handleSearchSubmit.bind(u(t)),t}return t=l,(n=[{key:"handleSearchSubmit",value:function(e){e.preventDefault();var t="Pages/results.aspx#k="+this.state.searchInputValue;window.location.href=_spPageContextInfo.siteAbsoluteUrl+_spPageContextInfo.siteServerRelativeUrl+t}},{key:"handleSearchInputChange",value:function(e){this.setState({searchInputValue:e.target.value})}},{key:"render",value:function(){return React.createElement("div",{className:"customSiteSearchInputContainer"},React.createElement("form",{onSubmit:this.handleSearchSubmit,className:"customSiteSearchForm"},React.createElement("input",{id:"siteSearchInputBox",name:"siteSearchInputBox",type:"text",placeholder:"Rechercher sur le site",onChange:this.handleSearchInputChange,value:this.state.searchInputValue}),React.createElement("button",{id:"site-search-btn"})))}}])&&o(t.prototype,n),r&&o(t,r),l}();function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){y(n,React.Component);var t=b(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).GetItemsForCategory=function(e){return r.state.footerItems.filter((function(t){return t.RMNGP_LinkFooterColonne==e}))},r.state={isLoaded:!1,footerItems:[],categories:[]},r}return m(n,[{key:"componentDidMount",value:function(){var e=this,t=_spPageContextInfo.siteAbsoluteUrl;fetch(t+"/_api/web/lists/getbytitle('linksfooter')/items?$select=Title,RMNGP_LinkFooterColonne,RMNGP_LinkFooterContent,RMNGP_LinkFooterPosCol",{method:"GET",credentials:"include",headers:{Accept:"application/json;odata=verbose"},mode:"cors",cache:"default"}).then((function(e){return e.json()})).then((function(t){var n=t.d.results,r=n.map((function(e){return e.RMNGP_LinkFooterColonne})).filter((function(e,t,n){return n.indexOf(e)===t}));e.setState({isLoaded:!0,footerItems:n,categories:r})}),(function(t){e.setState({isLoaded:!1,error:t})}))}},{key:"componentDidCatch",value:function(e,t){console.error(e,t)}},{key:"render",value:function(){var e=this;return this.state.isLoaded?React.createElement("div",{className:"footer_top"},this.state.categories.map((function(t){return React.createElement(R,{key:t,title:t,items:e.GetItemsForCategory(t)})}))):React.createElement("div",{className:"footer_top"},React.createElement("div",{className:"footer_category"},"Chargement ..."))}}]),n}(),R=function(e){y(n,React.Component);var t=b(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).state={categoryItems:r.props.items},r}return m(n,[{key:"render",value:function(){return React.createElement("div",{className:"footer_category"},React.createElement("h3",null,this.props.title),React.createElement("ul",null,this.state.categoryItems.map((function(e){return React.createElement(_,{key:e.__metadata.id,content:e.RMNGP_LinkFooterContent})}))))}}]),n}(),_=function(e){y(n,React.Component);var t=b(n);function n(e){return p(this,n),t.call(this,e)}return m(n,[{key:"render",value:function(){return React.createElement("li",{dangerouslySetInnerHTML:{__html:this.props.content}})}}]),n}(),C=document.getElementById("footerApp");ReactDOM.render(React.createElement(g,{title:"React Footer"}),C);var E=document.getElementById("siteSearchBox");ReactDOM.render(React.createElement(s,{title:"React Custom Site Search"}),E),SP.SOD.executeFunc("sp.js","SP.ClientContext",(function(){if("1"==document.forms[MSOWebPartPageFormName].MSOLayout_InDesignMode.value)document.getElementById("divWelcomeLogin2").style.display="none";else{var e=document.querySelector("#O365_TopMenu > div > span > div:nth-child(6)");document.querySelector("#divWelcomeLogin2 > span.login").appendChild(e),document.querySelector(".o365cs-me-tile-nophoto-username-container > .o365cs-me-tile-nophoto-username").style.paddingLeft="0"}document.querySelectorAll(".ms-core-listMenu-horizontalBox li.static > a.dynamic-children").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault()}))}))}))}],[[1,0]]]);